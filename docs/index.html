
<!DOCTYPE HTML>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
<title>Reference</title>
<link type="text/css" rel="stylesheet" href="/hindsite/main.css">

</head>
<body>
<div id="nav" class="no-print">
    <span id="toc-button">&#8801;</span>
</div>
<div id="sidebar" class="no-print">
<div id="toc" class="no-print">
  <h2>Links</h2>
  <div class="h2"><a href="/hindsite/index.html">Reference</a></div>
  <div class="h2"><a href="/hindsite/faq.html">FAQ</a></div>
  <div class="h2"><a href="/hindsite/changelog.html">Change Log</a></div>
  <div class="h2"><a href="https://github.com/srackham/hindsite">Github</a></div>
<h2>Table of Contents</h2>
  <div id="auto-toc"></div>
</div>
</div>
<div id="main">
<div id="article">

<h1 id="hindsite-reference">Hindsite Reference</h1>
<p>Hindsite is a
<a href="/hindsite/faq.html#how-fast-is-hindsite">fast</a>,
lightweight static website generator. It builds static websites with optional
document and tag indexes from <a href="https://en.wikipedia.org/wiki/Markdown" target="_blank">Markdown</a>
and <a href="https://github.com/srackham/rimu" target="_blank">Rimu</a> source documents.</p>
<p>The Hindsite stand-alone executable includes:</p>
<ul><li>Built-in site templates to get you up and running quickly.</li><li>A development web server with live reload and incremental rebuilds.</li><li>A linter for validating generated webpages.</li></ul><div class="note"><p>References to <em>Markdown</em> throughout this documentation apply to both <em>Markdown</em>
and <em>Rimu</em>.</p>
<p>This documentation is written in Rimu.</p></div>
<h2 id="installation">Installation</h2>
<p>If you have <a href="https://go.dev/" target="_blank">Go</a> installed on your
system then you can download and compile the latest version with this command:</p>
<pre><code>go install github.com/srackham/hindsite/v2@latest</code></pre>
<p class="note">Requires at least Go 1.18.</p>
<p>Pre-compiled binaries are also available on the
<a href="https://github.com/srackham/hindsite/releases" target="_blank">Hindsite releases page</a>.
Download the relevant release and extract the <code>hindsite</code> executable.</p>
<p>The latest source code is available on Github and can be downloaded and
installed with these commands:</p>
<pre><code>git clone https://github.com/srackham/hindsite.git
cd hindsite
go install</code></pre>
<h2 id="quick-start">Quick Start</h2>
<p>Create a fully functional blog and newsletter website with just two Hindsite
commands:</p>
<ol><li>Create a new Hindsite site directory and install the
   <a href="#blog-built-in-template">built-in <code>blog</code> template</a> using the
   Hindsite <a href="#init-command">init command</a>:<pre><code>mkdir myblog
cd myblog
hindsite init -from blog</code></pre>
</li><li>Build the website, start the Hindsite web server and open it in the browser:<pre><code>hindsite serve -launch</code></pre>
</li></ol><p>Include the <code>-v</code> (verbose) command option to see what's going on.
If you are familiar with Jekyll or Hugo you'll be right a home (Hindsite can
read Jekyll and Hugo Markdown document <a href="#front-matter">front matter</a>).</p>
<h2 id="sites">Sites</h2>
<p>A Hindsite site consists of three separate directories:</p>
<ul><li>A <em>content directory</em> containing source <a href="#documents">documents</a> and
  <a href="#static-files">static resource files</a>.</li><li>A <em>template directory</em> (also called the <em>site template</em>) containing
  <a href="#templates">template</a> files, <a href="#configuration">configuration</a> files and
  optional <a href="#init-command">site initialisation</a> files.</li><li>A <em>build directory</em> where Hindsite builds the static website.</li></ul><p>By default, these directories reside in the <em>site directory</em> and are named
<em>content</em>, <em>template</em> and <em>build</em>. The default locations can be changed using
<a href="#common-command-options">command-line options</a>.</p>
<p>For example, here's the built-in blog site directory structure:</p>
<pre><code>├── build
│   ├── images
│   ├── indexes
│   │   ├── newsletters
│   │   └── posts
│   │       └── tags
│   ├── newsletters
│   └── posts
├── content
│   ├── images
│   ├── newsletters
│   └── posts
└── template
    ├── init
    │   ├── images
    │   ├── newsletters
    │   └── posts
    ├── newsletters
    └── posts</code></pre>
<p>Corresponding content and template directory paths maintain relationships
between content documents, their layout templates and their configuration files.
For example, layout templates and configuration files in <code>template/posts</code> are
applied to content files in <code>content/posts</code></p>
<p>A single template directory can process multiple content directories, similarly a
single content directory can be processed by multiple template directories. The
<em>build</em>, <em>content</em> and <em>template</em> directories must be mutually exclusive (not
contained within one another).</p>
<p>The <code>build/indexes</code> directory contains the generated document and tag
<a href="#indexes">index pages</a>.</p>
<p>The <code>template/init</code> directory is optional, it contains
<a href="#content-files">content-files</a> which are used to initialise new sites (see the
<a href="#init-command">init command</a>). In all other respects the <code>init</code> directory is
just like any other content directory.</p>
<h2 id="commands">Commands</h2>
<p>Hindsite implements the following commands:</p>
<dl><dt><a href="#build-command">build</a></dt><dd>Build the website:<pre><code>hindsite build [OPTION]...</code></pre>
</dd><dt><a href="#help-command">help</a></dt><dd>Display usage documentation:<pre><code>hindsite help [COMMAND]</code></pre>
</dd><dt><a href="#init-command">init</a></dt><dd>Initialize a new site from a site template:<pre><code>hindsite init [OPTION]...</code></pre>
</dd><dt><a href="#new-command">new</a></dt><dd>Create a new content document:<pre><code>hindsite new [OPTION]... DOCUMENT</code></pre>
</dd><dt><a href="#serve-command">serve</a></dt><dd>Start the development webserver:<pre><code>hindsite serve [OPTION]...</code></pre>
</dd></dl><h3 id="common-command-options">Common command options</h3>
<p>All commands accept the following options:</p>
<dl><dt><code>-site SITE_DIR</code></dt><dd>Set the Hindsite site directory (defaults to the current directory).</dd><dt><code>-content CONTENT_DIR</code></dt><dd>Set the site content directory (defaults to <code>SITE_DIR/content</code>).</dd><dt><code>-build BUILD_DIR</code></dt><dd>Set the site build directory (defaults to <code>SITE_DIR/build</code>).</dd><dt><code>-template TEMPLATE_DIR</code></dt><dd>Set the site template directory (defaults to <code>SITE_DIR/template</code>).</dd><dt><code>-config CONFIG_FILE</code></dt><dd>Merge the <code>CONFIG_FILE</code> <a href="#configuration-files">configuration file</a> into the
site's <a href="#root-configuration">root configuration</a>.</dd><dt><code>-var NAME=VALUE</code></dt><dd>Sets the <a href="#root-configuration">root configuration</a> variable <code>NAME</code> to <code>VALUE</code>.
It will often be necessary to shell-quote the <code>NAME=VALUE</code> argument. Examples<pre><code>-var timezone=UTC
-var "templates=*.md"
-var "user.banner=News &amp; Views"</code></pre>
</dd><dt><code>-v</code></dt><dd>Increase verbosity. <code>-vv</code> is an alias for <code>-v -v</code>.</dd></dl><div class="note"><ul><li>Content, build and template directories are mutually exclusive and cannot
  overlap, with one exception: the content directory can be <code>TEMPLATE_DIR/init</code>.
  This is handy for testing site template initialization content.</li><li>Sites are not restricted to a single content, template and build directory.
  The <code>-content</code>, <code>-template</code> and <code>-build</code> options allow separate builds from
  differing combinations of build, content and template directories.</li><li>Multiple <code>-var</code> and <code>-config</code> options can be specified, they are
  processed in the order they appear on the command-line.</li></ul></div>
<h2 id="help-command">Help command</h2>
<p>The <em>help</em> command prints Hindsite documentation and version information.</p>
<h3 id="syntax">Syntax</h3>
<pre><code>hindsite help [COMMAND]</code></pre>
<h3 id="options">Options</h3>
<ul><li><code>hindsite</code>, <code>hindsite -h</code> and <code>hindsite --help</code> are aliases for <code>hindsite help</code>.</li><li><code>COMMAND</code> is a Hindsite command name.</li><li>If <code>COMMAND</code> is specified the command topic on the Hindsite documentation
  website is opened in the default web browser.</li><li>If <code>COMMAND</code> is not specified a brief help summary and version information is
  printed to the console.</li></ul><h2 id="init-command">Init command</h2>
<p>The <em>init</em> command creates a new site from a site template or from a
<a href="#built-in-templates">built-in template</a>. The <code>SOURCE</code> template is copied to the template
directory then the content directory is initialised with the contents of
the source template <code>init</code> directory.</p>
<p>The inclusion of a template <code>init</code> directory allows example <a href="#documents">documents</a> and
<a href="#static-files">static files</a> to be installed along with the site
template. Hindsite's <a href="#built-in-templates">built-in templates</a> all include
<code>init</code> directories.</p>
<h3 id="syntax-2">Syntax</h3>
<pre><code>hindsite init [OPTION]...</code></pre>
<h3 id="options-2">Options</h3>
<p><a href="#common-command-options">Common command options</a> plus:</p>
<pre><code>-from SOURCE</code></pre>
<ul><li>The <code>-from</code> option is mandatory and <code>SOURCE</code> is either the name of a <a href="#built-in-templates">built-in
  template</a> (<code>blog</code>, <code>docs</code>, <code>hello</code>) or a site template
  directory path.</li><li>Non-empty content and template target directories are skipped along with a warning.</li></ul><h3 id="execution">Execution</h3>
<ol><li>The <code>SOURCE</code> template is copied to the site <code>TEMPLATE_DIR</code>.</li><li>The template directory structure is recreated in the content directory.</li><li>If the <code>TEMPLATE_DIR/init</code> directory exists its contents is copied to the
   content directory.</li></ol><h3 id="examples">Examples</h3>
<ul><li>Install the built-in <code>blog</code> template to <code>./template</code> and initialize the
  <code>./contents</code> directory:<pre><code>hindsite init -from blog</code></pre>
</li><li>Copy an existing site template from <code>~/webs/foobar/template</code> to <code>./template</code> and
  initialize the <code>./contents</code> directory:<pre><code>hindsite init -from ~/webs/foobar/template</code></pre>
</li></ul><h2 id="build-command">Build command</h2>
<p>The <em>build</em> command builds a website in the <em>build</em> directory using
files from the <a href="#sites"><em>content</em> and <em>template</em> directories</a>.</p>
<h3 id="syntax-3">Syntax</h3>
<pre><code>hindsite build [OPTION]...</code></pre>
<h3 id="options-3">Options</h3>
<p><a href="#common-command-options">Common command options</a> plus:</p>
<pre><code>-drafts
-keep
-lint</code></pre>
<ul><li>All non-excluded files from the <em>content</em> directory are rebuilt.</li><li>If the <code>-drafts</code> option is specified <a href="#documents">draft documents</a> are included
  in the built website.</li><li>If the <code>-keep</code> option is specified the contents of the build directory are not
  deleted prior to building the site.</li><li>The <code>-lint</code> option performs <a href="#validity-checks">validity checks</a> on the
  generated HTML document files.</li><li>Content, build and template directories cannot overlap, with one exception:
  the content directory can be <code>TEMPLATE_DIR/init</code> (this is useful for testing
  content initialization).</li></ul><h3 id="execution-2">Execution</h3>
<ol><li><a href="#configuration-files">Configuration files</a> (<code>config.toml</code> and <code>config.yaml</code> files) in the template directory tree are parsed.</li><li>All files and folders in the build directory are deleted (unless the <code>-keep</code>
  option has been specified).</li><li>HTML and text templates (<code>*.html</code> and <code>*.txt</code> files) in the template directory tree are parsed.</li><li><a href="#static-files">Static files</a> are processed.</li><li>Document <a href="#indexes">indexes</a> are built.</li><li><a href="#documents">Documents</a> (<code>*.md</code> and <code>*.rmu</code> files) are processed:<ol style="list-style:lower-roman"><li><a href="#front-matter">Front matter</a> headers are parsed and <a href="#document-variables">document variables</a> are computed.</li><li><a href="#text-file-preprocessing">Text file preprocessing</a> is performed.</li><li>The document markup is then rendered to HTML and assigned to the <code>.body</code> <a href="#document-variables">document variable</a>.</li><li>The document's <a href="#layout-html">layout template</a> is rendered and root-relative URLs are prefixed with the <a href="#urlprefix">urlprefix</a>.</li><li>The resulting HTML webpage is written to its <a href="#build-paths">build path</a>.</li></ol></li><li>If a <a href="#homepage">homepage</a> is specified it is copied to the root of the build directory and named <code>index.html</code>.</li><li>If the <code>-lint</code> option is specified document webpages are <a href="#validity-checks">validated</a>.</li></ol><h3 id="validity-checks">Validity checks</h3>
<p>Following a site rebuild the <code>-lint</code> option carries out validity checks on the
generated HTML webpages.</p>
<ul><li>HTML <code>href</code> and <code>src</code> attribute URL values are checked to ensure:<ol><li>URL syntax is valid.</li><li>URL target resource files exist.</li><li>URL fragment identifiers have a matching HTML <code>id</code> attribute in the target file.</li></ol></li><li>HTML <code>id</code> attributes are checked to ensure:<ol><li>ID syntax is valid.</li><li>Webpages do not contain duplicate IDs.</li></ol></li><li>A warning is issued if a document <a href="#url-synthesis">URL path name</a> is not
  confined to lowercase alphanumeric, hyphen, period and slash characters.</li></ul><p>The existence of external (off-site) URL resources is not checked &mdash; for full
site validation use a cross-site validator such as the
<a href="https://validator.w3.org/" target="_blank">W3C Markup Validation Service</a>.</p>
<p>Validity checks increase site build times.</p>
<h3 id="errors-and-warnings">Errors and warnings</h3>
<p>Warnings are indicative of potential problems. Errors are problems that require
attention.</p>
<ul><li>Errors and warnings print single-line colorized messages to the console.</li><li>Hindsite exits immediately if a serious build error occurs.</li><li>If a recoverable error occurs Hindsite will attempt to continue processing.</li><li>If any errors occur the Hindsite exit code will be non-zero.</li></ul><h3 id="build-summary">Build summary</h3>
<p>A summary printed when the build command completes, it includes:</p>
<dl><dt><em>documents</em></dt><dd>The number of content documents processed.</dd><dt><em>static</em></dt><dd>The number of static files processed.</dd><dt><em>time</em></dt><dd>The execution time in seconds.</dd></dl><h2 id="serve-command">Serve command</h2>
<p>The <em>serve</em> command rebuilds the site then starts the built-in webserver in the
site <em>build directory</em>. If files in the <em>content</em> or <em>template directories</em>
change the <em>serve</em> command automatically <a href="#partial-rebuilds">rebuilds</a> affected
webpages. The server also handles browser live reloading.</p>
<h3 id="syntax-4">Syntax</h3>
<pre><code>hindsite serve [OPTION]...</code></pre>
<h3 id="options-4">Options</h3>
<p><a href="#common-command-options">Common command options</a> plus:</p>
<pre><code>-drafts
-keep
-lint
-launch
-navigate
-port [HTTP_PORT][:LR_PORT]</code></pre>
<ul><li>If the <code>-drafts</code> option is specified <a href="#documents">draft documents</a> are included
  in the built website.</li><li>The <code>-launch</code> option opens the site home page in the default web browser.</li><li>If the <code>-keep</code> option is specified the contents of the build directory are not
  deleted prior to building the site.</li><li>The <code>-lint</code> option performs <a href="#validity-checks">validity checks</a> on the
  generated HTML document files.</li><li>The <code>-navigate</code> option causes the browser to automatically navigate to new and
  updated <a href="#documents">documents</a>.</li><li>The <code>-port</code> option sets the server HTTP port number (<code>HTTP_PORT</code>) and/or the
  LiveReload port number (<code>LR_PORT</code>):<ul><li><code>HTTP_PORT</code> defaults to <code>1212</code>.</li><li><code>LR_PORT</code> defaults to <code>35729</code>.</li><li>Setting <code>LR_PORT</code> to <code>-1</code> disables live reloads.</li><li>The port numbers must be unique across all running server instances.</li><li>Examples: <code>-port 1213</code>, <code>-port 1213:35730</code>, <code>-port :-1</code>.</li></ul></li><li>The server responds to the following keyboard commands:<ul><li>Press the R key followed by the Enter key to force a complete site rebuild</li><li>Press the I key followed by the Enter key to print configuration information</li><li>Press the Q key followed by the Enter key to exit</li><li>Press the Enter key to print help</li></ul></li><li>The <em>serve command</em> commandeers keyboard input &mdash; if you want to run the server
  command in the background you need to assign <code>/dev/null</code> to its standard
  input. For example:<pre><code>hindsite serve &lt; /dev/null &amp;</code></pre>
</li><li>The server strips the <a href="#urlprefix"><code>urlprefix</code></a> from URLs in HTML files before
  sending them to the browser. This allows the site to be tested locally
  irrespective of the <code>urlprefix</code> value.</li><li>To enable browser live reloads the server injects the
  <a href="http://livereload.com/" target="_blank">LiveReload</a> script into HTML files prior to sending
  them to the browser.</li></ul><h3 id="partial-rebuilds">Partial rebuilds</h3>
<p>To speed up live reloads and to make the content creation process easier and
more responsive the <em>serve</em> command automatically performs partial builds when
files in the content and template directories are modified, added or deleted.</p>
<p>The amount of processing required will depend on the size of your site and the
type of change. Most content updates are very fast but processing times increase
if:</p>
<ul><li>Indexed documents are added or deleted (necessitating full index rebuild).</li><li>Files in the template directory are added, changed or removed (necessitating a
  full site rebuild).</li></ul><p class="important">To ensure build integrity you should always perform a complete
rebuild before deployment and after site structural changes (the serve
command does not automatically process changes to the site directory
structure).</p>
<h2 id="new-command">New command</h2>
<p>The <em>new</em> command creates a new <a href="#documents">document</a> file in the content
directory. The new document's contents are initialised from a Go text template.</p>
<h3 id="syntax-5">Syntax</h3>
<pre><code>hindsite new [OPTION]... DOCUMENT</code></pre>
<h3 id="options-5">Options</h3>
<p><a href="#common-command-options">Common command options</a> plus:</p>
<pre><code>-from SOURCE</code></pre>
<ul><li><code>DOCUMENT</code> is the path name of the new file.</li><li>The <code>-from</code> option <code>SOURCE</code> is the name the template file that will be used to
  initialise the new document.</li><li>If the <code>-from</code> option is not specified the <em>new</em> command searches along the
  document's corresponding <em>template directory</em> path for the first template
  named <code>new.md</code> which is then used to initialise the new document. If a
  <code>new.md</code> template is not found the default built-in template is used.</li></ul><p>The following template variables are available to the new template:</p>
<dl><dt><code>.date</code></dt><dd>The publication date is extracted from the file name <code>YYYY-MM-DD-</code>
date prefix. If there is no prefix it defaults to the current date and time.</dd><dt><code>.title</code></dt><dd>The document title is set to the <code>DOCUMENT</code> file name stripped of the
date prefix and the file name extension; hyphens replaced by spaces; then
capitalized.</dd></dl><p>For example, the following <em>new</em> command will set the
title to <code>"Foofoo Valve History"</code> and the date to the current date and time:</p>
<pre><code>hindsite new ./content/posts/foofoo-valve-history.md</code></pre>
<p>The default new document template is:</p>
<pre><code>---
title: {{.title}}
date:  {{.date}}
draft: true
---

Document content goes here.</code></pre>
<h2 id="built-in-templates">Built-in templates</h2>
<p>Hindsite includes
<a href="#blog-built-in-template">blog</a>,
<a href="#docs-built-in-template">docs</a> and
<a href="#hello-built-in-template">hello</a>
built-in site templates which are installed using the Hindsite <a href="#init-command">init command</a>:</p>
<p>To create a site using a built-in template:</p>
<ol><li>Create a directory for the new site (optional).</li><li>Install the built-in template with the Hindsite <a href="#init-command">init</a> command.</li><li>Build the site and open it the browser with the Hindsite <a href="#build-command">build</a> command.</li></ol><p>For example:</p>
<pre><code>mkdir myblog
cd myblog
hindsite init -from blog
hindsite serve -launch</code></pre>
<h3 id="blog-built-in-template">blog built-in template</h3>
<p>A template to create a websites for blog posts and newsletters
(view the built site <a href="/hindsite/builtin/blog" target="_blank">here</a>).</p>
<p>Customisation notes:</p>
<ul><li>Edit <code>content/main.css</code> to customise CSS styling.</li><li>The <code>template/partials.html</code> header template will include the
  <a href="https://highlightjs.org/" target="_blank">highlight.js</a> source code highlighter if the
  <code>.user.highlightjs</code> <a href="#document-variables">document variable</a> is set to <code>"yes"</code>.</li><li><a href="#user"><em>user</em></a> template variable values can be set per document (in document
  <a href="#front-matter">front matter</a>) or per directory (in site configuration files).</li><li>The template includes an example <em>Search</em> page (<code>content/search.md</code>) that
  leverages Google Programable Searches. To use this functionality in your own
  website you need register it with Google and then configure and test it. See:<ul><li><a href="https://developers.google.com/custom-search" target="_blank">Programmable Search Engine</a></li><li><a href="https://search.google.com/search-console/about" target="_blank">Google Search Console</a></li></ul></li><li>The site <a href="/hindsite/index.html#configuration">configuration file</a> is <code>template/config.toml</code>.</li><li>The directory layout is documented in the <a href="/hindsite/index.html#sites"><em>Sites</em> section</a>.</li><li>The example content pages are written in Markdown but you could also use
  <a href="https://github.com/srackham/rimu" target="_blank">Rimu markup</a>.</li></ul><h3 id="docs-built-in-template">docs built-in template</h3>
<p>A template to create sites that have a fixed, relatively small number of pages.
Ideal for building documentation sites or user guides, FAQs and reference manuals
(view the built site <a href="/hindsite/builtin/docs" target="_blank">here</a>).</p>
<p>This documentation is based on the <code>docs</code> template.</p>
<p>Customisation notes:</p>
<ul><li>Edit <code>content/main.css</code> to customise CSS styling.</li><li>Dynamic table of contents (TOC) generation is performed by JavaScript code in
  <code>content/main.js</code>. To disable TOC generation set the <code>.user.toc</code> template variable
  (either in document front matter or site configuration files) to any value
  other than <code>"yes"</code>.</li><li>The home page and FAQ documents are written in <a href="https://github.com/srackham/rimu" target="_blank">Rimu markup</a>,
  the changelog is written in Markdown. Rimu and Markdown processors are
  configured to auto-generate HTML header element ID attributes which are
  used to dynamically build the table of contents.</li><li>The site <a href="#configuration">configuration file</a> is <code>template/config.yaml</code>.</li><li>If you set the <code>.user.toc</code> document variable to any value other than <code>"yes"</code>
  the TOC will not be displayed.</li><li>The nested <code>header</code> template in <code>template/partials.html</code> includes the
  <a href="https://highlightjs.org/" target="_blank">highlight.js</a> source code highlighter if the
  <code>.user.highlightjs</code> document variable is set to <code>"yes"</code>. <em>Highlight.js</em>
  language auto-detection is not enabled and code blocks must specify the
  language explicitly. For example:<pre><code>```python
x = 1
if x == 1:
  print "x is 1."
```</code></pre>
</li><li><a href="#user"><em>user</em></a> document variable values can be set per document (in document
  front matter) or per directory (in site configuration files).</li></ul><h3 id="hello-built-in-template">hello built-in template</h3>
<p>A minimal single-page built-in template consisting of a single
<code>content/index.md</code> document and a single <code>template/layout.html</code> HTML template
(view the built site <a href="/hindsite/builtin/hello" target="_blank">here</a>).</p>
<h3 id="built-in-template-styling">Built-in template styling</h3>
<p>The <code>blog</code> and <code>docs</code> templates include the following block element CSS classes
(in <code>content/main.css</code>) which are particularly useful for styling Rimu
markup:</p>
<pre><code>CSS class          Description
___________________________________________________________
align-center       Align element content center.
align-left         Align element content left.
align-right        Align element content right.
bordered           Add borders to table element.
cite               Quote and verse attribution.
dl-horizontal      Format labeled lists horizontally.
dl-numbered        Number labeled list items.
no-page-break      Avoid page break inside the element.
no-print           Do not print element.
page-break         Force a page break before the element.
preserve-breaks    Honor line breaks in element content.
sidebar            Paragraph and division block sidebar.
verse              Paragraph and division block verse.
important          Paragraph and division block admonition.
note               Paragraph and division block admonition.
tip                Paragraph and division block admonition.
warning            Paragraph and division block admonition.
___________________________________________________________
</code></pre>
<h2 id="configuration">Configuration</h2>
<p>Website generation is customized with configuration variables (named values)
from YAML or TOML formatted <a href="#configuration-files">configuration files</a> in the
<a href="#sites">site template directory</a> and from <code>-var</code> and <code>-config</code> <a href="#common-command-options">command-line
options</a>.</p>
<h3 id="configuration-files">Configuration files</h3>
<p>Configuration files are optional, though most sites will have at least one
at the root of the <em>template directory</em>. Additional configuration files can be put
in template subdirectories.</p>
<ul><li><a href="https://toml.io" target="_blank">TOML</a> and
  <a href="https://en.wikipedia.org/wiki/YAML" target="_blank">YAML</a>
  configuration files named <code>config.toml</code> and <code>config.yaml</code> respectively are
  loaded automatically.</li><li id="root-configuration">All sites have a <em>root configuration</em> which is synthesised by merging (in
  increasing order of precedence):<ul><li>Default configuration values.</li><li>The root configuration file (in the <em>template directory</em>).</li><li><code>-var</code> and <code>-config</code> <a href="#common-command-options">command-line options</a>.</li></ul></li><li>Non-root configuration files can located anywhere in the template directory
  tree (except for the <em>init</em> directory) and are applied to
  <a href="#content-files">content files</a> from the corresponding content directory.</li><li>The configuration applied to a content file is computed by merging the <em>root
  configuration</em> with configuration files lying along the corresponding
  <em>template directory</em> path. Configuration files closer to the document have
  higher precedence than those further up the directory path.<p>For example, the configuration applied to document <code>CONTENT_DIR/posts/foobar.md</code>
is computed by merging template directory configuration files
in <code>TEMPLATE_DIR/posts/</code> with the <em>root configuration</em> (the former taking
precedence over the latter).</p>
</li></ul><h3 id="configuration-variables">Configuration variables</h3>
<p>The <code>exclude</code>, <code>include</code>, <code>homepage</code> and <code>urlprefix</code> configuration variables
are site-wide and can only reside in the <a href="#root-configuration">root configuration</a>.
All other configuration variables can occur in any configuration file.</p>
<p>Valid configuration variables are:</p>
<dl><dt><code>author</code></dt><dd>Specifies the default document author and is overridden by the
document's <a href="#front-matter-variables"><code>author</code> front matter value</a>. TOML example:<pre><code>author = "Joe Bloggs"</code></pre>
</dd><dt id="exclude"><code>exclude</code> †</dt><dd>A pipe (<code>|</code>) separated list of file and directory paths specifying files
from the content directory that are excluded from processing. TOML example:<pre><code>exclude = "config.rmu|*~|4913"</code></pre>
<ul><li>Dotfiles (file names starting with a period) are excluded by default. To force
  inclusion of a dotfile add it to the <code>include</code> variable.</li><li>The paths are relative to the content directory.</li><li>The path separator is a slash (<code>/</code>) character.</li><li>The file paths can contain wildcard patterns conforming to patterns matched by
  the Go <a href="https://golang.org/pkg/path/#Match" target="_blank">path.Match() function</a>.</li><li>If the path contains no path separators then it is matched against all file
  names e.g. <code>*.swp</code> will match all files in the content directory and subdirectories
  with the <code>.swp</code> file name extension.</li><li>If the path contains path separators then it is matched against the file path
  e.g. <code>posts/*.md</code> will only match files with the <code>.md</code> extension from the
  <code>posts</code> directory.</li><li>If the path ends with a slash then it specifies a directory whose contents are
  excluded (no wildcards are allowed). For example <code>news/archive/</code> excludes all
  files from the <code>news/archive</code> directory.</li><li>To exclude a file in the content root directory, prefix the name
  name with a path separator e.g. <code>/config.rmu</code> will exclude <code>config.rmu</code> only
  if it is in the root content directory.</li></ul>
</dd><dt><code>include</code> †</dt><dd>A pip (<code>|</code>) separated list of file and directory paths specifying files
from the content directory that are processed unconditionally i.e. irrespective
of the <code>exclude</code> variable.  <code>include</code> values have the same syntax as the
<code>exclude</code> values. TOML example:<pre><code>include = ".htaccess"</code></pre>
</dd><dt id="id-configuration-variable"><code>id</code></dt><dd>Specifies the default behavior of the <a href="#document-id">document <code>id</code> front matter
 value</a>:<ul><li>If the <code>id</code> configuration value is <code>optional</code> then <code>id</code> front matter values default to blank.</li><li>If the <code>id</code> configuration value is <code>urlpath</code> then document <code>id</code> front matter values default
  to the document URL stripped of the <a href="#urlprefix"><code>urlprefix</code></a>.</li><li>If the <code>id</code> configuration value is <code>mandatory</code> then document front matter
  <code>id</code>'s must have explicit non-blank values (an error is generated if a
  document <code>id</code> is not specified).</li></ul><p>The <code>id</code> configuration value defaults to <code>optional</code>. TOML example:</p>
<pre><code>id = "urlpath"</code></pre>
</dd><dt><code>shortdate</code>, <code>mediumdate</code>, <code>longdate</code></dt><dd>These are date formats for <code>shortdate</code>,
<code>mediumdate</code> and <code>longdate</code> <a href="#document-variables">document template
variables</a> respectively. The values conform to the
layouts supported by Go <a href="https://golang.org/pkg/time/#Time.Format">time.Format
function</a>. The default values are:<pre><code>shortdate = "2006-01-02",
mediumdate = "2-Jan-2006",
longdate = "Mon Jan 2, 2006",</code></pre>
</dd><dt id="homepage"><code>homepage</code> †</dt><dd>The optional <code>homepage</code> configuration value is the
name of a file, relative to the build directory, that is copied by the <code>build</code>
command to the root of the build directory and named <code>index.html</code>. Use the slash
(<code>/</code>) character as the path separator to ensure cross-platform compatibility.
The main use-case for this feature is for assigning an index file as the site's
home page.
TOML example:<pre><code>homepage = "indexes/posts/docs-1.html"</code></pre>
</dd><dt><code>paginate</code></dt><dd>This variable sets the number of documents per document index
page. The default value is 5. Set to -1 to include all documents on a single
document index page. TOML example:<pre><code>paginate = 10</code></pre>
</dd><dt id="permalink"><code>permalink</code></dt><dd>An optional variable for customizing document <a href="#build-paths">build
paths</a> and <a href="#urls">URLs</a>. A document's build path is
computed by substituting the following <code>permalink</code> placeholders:<pre><code>%y    Four digit publication date year.
%m    Two digit publication date month.
%d    Two digit publication date day of month.
%f    The build file name.
%p    The build file name minus the file name extension.</code></pre>
<ul><li>Publication date substitutions are rendered in the publication date
  timezone, this ensures permalinks do not change if the <code>timezone</code> is changed.</li><li>If the permalink ends with a trailing slash then Hindsite creates &ldquo;pretty&rdquo;
  URLs (the expanded permalink is the build file directory path; the build file
  is named <code>index.html</code>).</li><li>A document specific <code>permalink</code> can be specified in the document <a href="#front-matter">front
  matter</a> and takes precedence over the <code>permalink</code> configuration
  variable.</li><li>A permalink URL will not change provided the <code>permalink</code> value, the
  document publication date and the document slug are not changed. Changing the
  source document's content directory location does not change a permalink URL.</li><li>URLs are prefixed with the <a href="#urlprefix"><code>urlprefix</code></a> configuration value.</li><li>TOML examples:<pre><code>permalink = "/posts/%y/%m/%d/%f"
permalink = "/posts/%y-%m-%d/%p/"</code></pre></li></ul>
</dd><dt id="templates-conf"><code>templates</code></dt><dd>A <code>|</code> separated list of file and directory patterns specifying
the names of <a href="#content-files">content files</a> that undergo <a href="#text-templates">text template</a> expansion.
The <code>templates</code> configuration variable has the same syntax as the
<a href="#exclude"><code>exclude</code></a> configuration variable. TOML example:<pre><code>templates = "*.css|*.js"</code></pre>
</dd><dt id="timezone"><code>timezone</code></dt><dd>Set to a timezone name from the
<a href="https://www.iana.org/time-zones" target="_blank">IANA Timezone Database</a>.<ul><li>It is assigned to document <a href="#publication-date">publication dates</a>
  that specified without a timezone.</li><li><code>timezone</code> defaults to <code>"Local"</code> (the system's local timezone).</li><li><code>timezone</code> is used to render <code>.shortdate</code>, <code>.mediumdate</code> and <code>.longdate</code>
  <a href="#document-variables">document template variables</a>.</li><li>TOML example:<pre><code>timezone = "Pacific/Auckland"</code></pre>
</li></ul></dd><dt id="urlprefix"><code>urlprefix</code> †</dt><dd>This variable is automatically prepended to all root-relative <a href="#urls">URLs</a>.
This allows a site to be rooted in any web server directory without having to hard-wire server paths into URLs.
The <code>urlprefix</code> defaults to a blank string. TOML examples:<pre><code>urlprefix = "/blog"                     # Root-relative URL prefix.
urlprefix = "https://www.example.com"   # Absolute URL prefix.</code></pre>
</dd><dt id="user"><code>user</code></dt><dd>This is a user defined key/value map and provides a mechanism for
defining custom template variables. Both keys and values are strings and the
keys must be legal <a href="https://golang.org/ref/spec#Identifiers" target="_blank">Go identifiers</a>. For
example:<pre><code># TOML
[user]
banner = "News &amp; Views"
byline = "Ac eros etiam enim pellentesque proin"

# YAML
user:
  banner: News &amp; Views
  byline: Ac eros etiam enim pellentesque proin</code></pre>
<p>Are available as these template variables:</p>
<pre><code>.user.banner
.user.byline</code></pre>
</dd></dl><p>† Site-wide <a href="#root-configuration">root configuration</a> variable.</p>
<h2 id="content-files">Content files</h2>
<p>Content files are the source files that are used to build the static website.</p>
<ul><li>Content files reside in the site <a href="#sites">content directory</a>.</li><li>There are two types of content file: <a href="#documents">documents</a> and <a href="#static-files">static files</a>.</li></ul><h3 id="documents">Documents</h3>
<p>Documents are are <a href="https://en.wikipedia.org/wiki/Markdown" target="_blank">Markdown</a> (<code>.md</code>) or
<a href="https://github.com/srackham/rimu" target="_blank">Rimu</a> (<code>.rmu</code>) files. Each document
generates a webpage. Website authoring consists mostly of creating and editing
document files. Examples include blog posts, newsletters and articles.</p>
<p>The Hindsite <a href="#build-command">build command</a> converts document markup to HTML
which is then rendered to an HTML webpage using the document's
<a href="#html-templates">layout template</a>. The resulting webpage is written to the site <a href="#build-paths">build
directory</a>.</p>
<p>A <em>draft document</em> is a document with the <a href="#draft">draft</a> front matter value set to
<code>true</code>. Draft documents are not be included in the built website unless the <a href="#build-command">build
command</a> <code>-drafts</code> option is specified.</p>
<h3 id="static-files">Static files</h3>
<p>Static files provide additional website resources such as CSS, JavaScript and
image files.</p>
<p>The <a href="#build-command">build command</a> copies static files to the corresponding
location in the <em>build directory</em>.</p>
<h3 id="text-file-preprocessing">Text file preprocessing</h3>
<p>Text files in the content directory can also undergo optional preprocessing:</p>
<ul><li><a href="#front-matter">Front matter</a> headers are parsed.</li><li><a href="#document-variables">Document template variables</a> are computed.</li><li>The file undergoes <a href="#text-templates">text template</a> expansion.</li></ul><p>To qualify for text template expansion the content file's name must match the
<a href="#templates-conf"><code>templates</code></a> configuration variable.</p>
<p>Text file preprocessing use-cases include:</p>
<ul><li>Content file parameterization.</li><li>Dynamic content generation.</li><li>Text file inclusion.</li></ul><h2 id="front-matter">Front matter</h2>
<p>Front matter is an optional set of variables (named values) declared in a <em>front
matter header</em> at the beginning of content files (<a href="#documents">documents</a>
and <a href="#static-files">static files</a>).</p>
<h3 id="front-matter-header">Front matter header</h3>
<p>The front matter header begins with a start delimiter (which must be the first
line of the file), followed by variable declarations, and ending with the
an end delimiter line. The delimiter determines the front matter
format (<a href="https://github.com/toml-lang/toml" target="_blank">TOML</a> or
<a href="https://learn.getgrav.org/advanced/yaml" target="_blank">YAML</a>).</p>
<dl><dt><em>Start delimiters</em></dt><dd>TOML: <code>+++</code><br>
    YAML: <code>---</code>, <code>&lt;!--</code>, <code>/***</code></dd><dt><em>End delimiters</em></dt><dd>TOML: <code>+++</code><br>
    YAML: <code>---</code>, <code>--&gt;</code>, <code>***/</code></dd></dl><p>Example YAML front matter:</p>
<pre><code>---
title:    Foo Bar
description: A brief history of the origins of the foo valve.
date:     2018-02-16
tags:     [foo valve, qux, baz]
slug:     foo-valve-history
draft:    true
---</code></pre>
<p>Example TOML front matter:</p>
<pre><code>+++
title = "Foo Bar"
description = "A brief history of the origins of the foo valve."
date = 2018-02-16
tags = ["foo valve", "qux", "baz"]
slug = "foo-valve-history"
draft = true
+++</code></pre>
<h3 id="front-matter-variables">Front matter variables</h3>
<p>Front matter variables are exposed as
<a href="#document-variables">document template variables</a> during template expansion.</p>
<dl><dt><code>author</code></dt><dd>The document author. If not specified it defaults to the
<a href="#configuration-variables"><code>author</code></a> configuration value.</dd><dt id="publication-date"><code>date</code></dt><dd>The document publication date. If it is not specified it is extracted
from the file name <code>YYYY-MM-DD-</code> date prefix, if there is no prefix it defaults
to Jan 1 0001. The <code>date</code> format is RFC 3339 with the following relaxations:<ul><li>If the time zone offset is omitted then the
  <a href="#configuration-variables"><code>timezone</code></a> configuration variable value is used.
  This has the effect of always rendering the date as written irrespective of
  the <code>timezone</code> value.</li><li>If the time is omitted then the time <code>00:00:00</code> is used.</li><li>A space character separator (instead of the letter <code>T</code>) between the date and
  the time is allowed.</li></ul><p>Examples with <code>timezone = "+13:00"</code>:</p>
<pre><code>Front matter date value      Translated to
______________________________________________________
1979-05-27T07:32:00+02:00    1979-05-27T07:32:00+02:00
1979-05-27T07:32:00          1979-05-27T07:32:00+13:00
1979-05-27 07:32:00          1979-05-27T07:32:00+13:00
1979-05-27                   1979-05-27T00:00:00+13:00
______________________________________________________</code></pre>
<p>In TOML headers the date can be specified as a quoted string or an unquoted
date/time.</p>
</dd><dt><code>description</code></dt><dd>A brief summary of the document. If not specified <code>description</code>
defaults to the content up to the first <code>&lt;!--more--&gt;</code> tag or blank if there is
no <code>&lt;!--more--&gt;</code> tag. The <code>&lt;!--more--&gt;</code> tag must appear alone on a separate
line. The description is processed as Markdown.</dd><dt id="draft"><code>draft</code></dt><dd>If set to <code>true</code> then the document will not be processed. This can be
overridden with the <a href="#build-command">build</a> and <a href="#serve-command">serve</a> command
<code>-drafts</code> option. Defaults to <code>false</code>.</dd><dt id="document-id"><code>id</code></dt><dd>A general purpose document identifier that is unique across all documents
within a site. Used in situations requiring a unique document ID.<ul><li>Non-blank <code>id</code> values must be unique within a site (an error occurs if two
    or more published documents have the same <code>id</code> value).</li><li>If a document has no explicit <code>id</code> value then the default value is determined
    by the <a href="#id-configuration-variable"><code>id</code> configuration variable</a>.</li></ul></dd><dt><code>layout</code></dt><dd>Overrides the document's default <a href="#layout-html">layout template</a>.</dd><dt><code>permalink</code></dt><dd>Sets the document <code>permalink</code> value, overriding the
<a href="#permalink"><code>permalink</code></a> configuration value.</dd><dt id="tags"><code>tags</code></dt><dd>A list of <a href="#document-tags">document tags</a>. Examples:<pre><code># TOML
tags = ["foo foo valve", "qux", "baz"]

# YAML
tags: [foo foo valve, qux, baz]</code></pre>
</dd><dt><code>templates</code></dt><dd>Overrides the <a href="#templates-conf"><code>templates</code></a> configuration
value. Setting it to <code>*</code> will ensure the document undergoes template expansion;
setting it to a blank string will suppress template expansion.</dd><dt id="slug"><code>slug</code></dt><dd>The slug replaces the document file name
 in generated <a href="#build-paths">build paths</a> and <a href="#urls">URLs</a>. The file name
 extension is left unchanged.</dd></dl><dl id="title"><dt><code>title</code></dt><dd>The document title. If not specified <code>title</code> defaults the document
file name stripped of the <a href="#publication-date">date prefix</a> (if there is one),
with hyphens replaced by spaces, then capitalized.</dd><dt><code>user</code></dt><dd><code>user</code> is a user defined key/value map. It is merged with the lower
precedence <a href="#user"><code>user</code> configuration variable</a> and assigned to the <code>.user</code>
<a href="#document-variables">document variable</a>.</dd></dl><h2 id="document-variables">Document variables</h2>
<p>Document variables are a combination of document <a href="#front-matter-variables">front matter
variables</a>, document <a href="#configuration-variables">configuration
variables</a> and synthesized variables. They are used in
layout and index page <a href="#html-templates">HTML templates</a> and in <a href="#text-templates">text
templates</a>. Front matter variables take precedence over
configuration variables.</p>
<p>Template variables are Go strings unless otherwise noted.</p>
<dl><dt><code>.author</code></dt><dd><a href="#front-matter-variables"><code>author</code></a> front matter value.</dd><dt><code>.body</code></dt><dd>The document body rendered as HTML.</dd><dt><code>.description</code></dt><dd>The document <a href="#front-matter-variables"><code>description</code></a> front matter
value rendered as HTML.</dd><dt><code>.shortdate</code>, <code>.mediumdate</code>, <code>.longdate</code></dt><dd>These are synthesised document publication date
strings, formatted using the <code>shortdate</code>, <code>mediumdate</code> and <code>longdate</code>
<a href="#configuration-variables">configuration variables</a> respectively and rendered
in the configuration <a href="#timezone">timezone</a>.</dd><dt><code>.date</code></dt><dd><a href="#front-matter-variables" target="_blank"><code>date</code></a> front matter value (<a href="https://pkg.go.dev/time#Time">time.Time</a> type).</dd><dt><code>.id</code></dt><dd><a href="#front-matter-variables"><code>id</code></a> front matter value.</dd><dt><code>.layout</code></dt><dd><a href="#front-matter-variables"><code>layout</code></a> front matter value.</dd><dt><code>.modtime</code></dt><dd>Source document content file modification date and time (<a href="https://pkg.go.dev/time#Time" target="_blank">time.Time</a> type).</dd><dt><code>.next</code>, <code>.prev</code></dt><dd>The next and previous document <a href="#urls">URLs</a> in primary index order.
<code>.prev</code> is <code>nil</code> in the first document, <code>.next</code> is <code>nil</code> in the last document.</dd><dt><code>.permalink</code></dt><dd><a href="#front-matter-variables"><code>permalink</code></a> front matter value.</dd><dt><code>.slug</code></dt><dd><a href="#front-matter-variables"><code>slug</code></a> front matter value.</dd><dt><code>.url</code></dt><dd>Synthesized document <a href="#urls">URL</a>.</dd><dt><code>.tags</code></dt><dd>An iterable list of document <a href="#document-tags">tags</a>. Each item
contains the variable <code>.tag</code> (the tag) and <code>.url</code> (the tag index URL).</dd><dt><code>.templates</code></dt><dd><a href="#front-matter-variables"><code>templates</code></a> configuration variable.</dd><dt><code>.title</code></dt><dd><a href="#title"><code>title</code></a> front matter value.</dd><dt><code>.urlprefix</code></dt><dd><a href="#urlprefix"><code>urlprefix</code></a> configuration value.</dd><dt><code>.user</code></dt><dd>This key/value map is synthesized by merging the (higher precedence)
document <a href="#front-matter-variables">front matter <code>user</code> value</a> with the document's
<a href="#user"><code>user</code></a> configuration variable.</dd></dl><h2 id="document-tags">Document tags</h2>
<p>A document tag is a keyword or phrase used to categorise a document in some
way.</p>
<p>Hindsite can create tag <a href="#indexes">indexes</a> linked to per-tag paginated lists of documents.</p>
<p>Document tags are assigned using the front matter <a href="#tags">tags variable</a>.
A document can have multiple tags.</p>
<h2 id="templates">Templates</h2>
<p><em>Hindsite</em> uses <a href="https://pkg.go.dev/text/template" target="_blank">Go templates</a> to build HTML
build webpages and to inject dynamic content into <a href="#content-files">content files</a>. A template
 contains <code>{{</code> and <code>}}</code> delimited data evaluations
and control structures which are expanded with <a href="#document-variables">document
variable</a> values.</p>
<p>There are two sets of templates, <a href="#html-templates">HTML templates</a>
and <a href="#text-templates">Text templates</a>. Each template file
contributes one or more named templates (the file itself plus any nested
template definitions within the file).</p>
<p>A file's template name is its file name relative to the <em>template directory</em>
with the slash path separator. For example:</p>
<pre><code>Template directory:   C:\blog\template
Template file:        C:\blog\template\posts\layout.html   
Template name:        posts/layout.html</code></pre>
<h2 id="text-templates">Text templates</h2>
<p>Text templates are <a href="https://pkg.go.dev/text/template" target="_blank">Go text templates</a>. They
are optional and are used to <a href="#text-file-preprocessing">preprocess content files</a>.</p>
<p>All <code>.txt</code> files in the <em>template directory</em> contribute to the set of named text
templates.</p>
<h2 id="html-templates">HTML templates</h2>
<p><a href="https://pkg.go.dev/html/template" target="_blank">Go HTML templates</a> are used to transform
<a href="#documents">documents</a> into HTML webpages and to create <a href="#indexes">index</a> HTML
webpages.</p>
<p>All <code>.html</code> files in the site <em>template directory</em> contribute to the set of
named HTML templates. The following HTML template files have special
significance:</p>
<h3 id="layout-html">layout.html</h3>
<p>Templates with the file name <code>layout.html</code> are used to generate content document
webpages.</p>
<p>Layouts are rendered with the document's <a href="#document-variables">document template
variables</a>.</p>
<p>A site can have one or more layout templates. The
selected layout template is the one closest to the content document on the
corresponding <em>template directory</em> path (but this can be overridden using the
document <a href="#front-matter-variables">front matter <code>layout</code> value</a>). These conventions
allow document layouts to be assigned per directory and per document.</p>
<h3 id="docs-html">docs.html</h3>
<p>The <code>docs.html</code> template generates a paginated document index page. The
presence of a <code>docs.html</code> template file specifies that the corresponding content
directory is indexed.</p>
<p><code>docs.html</code> templates are rendered with the following template variables:</p>
<dl><dt><code>.docs</code></dt><dd>An iterable list of index page documents. Each list item contains a
set of <a href="#document-variables">document template variables</a>.</dd><dt><code>.count</code></dt><dd>The total number of documents in the index.</dd><dt><code>.page.number</code></dt><dd>The page number.</dd><dt><code>.page.url</code></dt><dd>The page URL.</dd><dt><code>.page.prev</code>,<code>.page.next</code>, <code>.page.first</code>, <code>.page.last</code></dt><dd>These items include the page <code>.number</code> and
<code>.url</code> of the previous, next, first and last index pages. For example
<code>.page.prev.number</code> is the page number (1&hellip;) of the previous document index page.
<code>.page.prev</code> is <code>nil</code> on the first last index page, <code>.page.next</code> is <code>nil</code> on the last last index page.</dd><dt><code>.urlprefix</code></dt><dd>The <a href="#urlprefix"><code>urlprefix</code></a> configuration value.</dd><dt><code>.user</code></dt><dd>The index configuration <a href="#user"><code>user</code></a> key/value map.</dd></dl><h3 id="tags-html">tags.html</h3>
<p>The optional <code>tags.html</code> index template is used to build a <code>tags.html</code> tags
index webpage. If it is not present the tags index files are not built.
<code>tags.html</code> templates are rendered with the following template variables:</p>
<dl><dt><code>.tags</code></dt><dd>An iterable list, each list item contains:<dl><dt><code>.tag</code></dt><dd>The tag.</dd><dt><code>.url</code></dt><dd>The URL of of the tag's document index.</dd><dt><code>.count</code></dt><dd>The number of documents with this tag.</dd></dl></dd><dt><code>.urlprefix</code></dt><dd>The <a href="#urlprefix"><code>urlprefix</code></a> configuration value.</dd><dt><code>.user</code></dt><dd>The index configuration <a href="#user"><code>user</code></a> key/value map.</dd></dl><h2 id="indexes">Indexes</h2>
<p>The Hindsite build command generates optional paginated document and <a href="#document-tags">document tag</a> index files.
Multiple indexes are supported &mdash; each folder in the content directory can have
its own document and tag index.</p>
<p>A <em>document index</em> is a paginated list of <a href="#documents">documents</a>.</p>
<p>A <em>tag index</em> is a list of document tags, each tag in the index is linked to a
tag-specific document index.</p>
<p>Document and tag indexes are built with <a href="#html-templates">HTML templates</a>.</p>
<ul><li>A content directory is indexed when the corresponding template directory
  contains a <a href="#docs-html"><code>docs.html</code> template</a>. The <code>docs.html</code> template
  generates HTML document index files. If a <a href="#tags-html"><code>tags.html</code> template</a> is
  present it is used to generate an HTML tag index file.</li><li>Documents from the indexed content directory and its subdirectories contribute
  to the index.</li><li>A site can contain any number of indexed content directories.</li><li>Indexes can be nested. This allows categorized document subdirectories to have
  separate indexes.</li><li>A <em>primary index</em> is an index that is not nested (has no parent index). A
  document can only belong to one primary index.</li><li>Generated index pages are written to a directory named <code>indexes</code> located at
  the root of the <em>build directory</em>.</li><li>The <code>indexes</code> directory structure mirrors the <em>templates</em> directory structure.</li></ul><p>The following HTML index files are built for each index:</p>
<dl><dt><code>docs-1.html</code>, <code>docs-2.html</code> &hellip;</dt><dd>Paginated document index files. The number
  of documents per index page is set by the
  <a href="#configuration-variables"><code>paginate</code></a> configuration variable.
  These files are rendered with the corresponding <a href="#docs-html">docs.html</a> template.</dd><dt><code>tags.html</code></dt><dd>A list of <a href="#document-tags">document tags</a> linked to paginated per-tag document
  index files in the <code>tags</code> subdirectory. <code>tags.html</code> is rendered with the corresponding
  <a href="#tags-html">tags.html</a> template.</dd><dt><code>tags/&lt;tag&gt;-1.html</code>, <code>tags/&lt;tag&gt;-2.html</code> &hellip;</dt><dd>Paginated per-tag document
  index files. The number of documents per index page is set by the
  <a href="#configuration-variables"><code>paginate</code></a> configuration variable. These files are
  rendered with the corresponding <a href="#docs-html">docs.html</a> template.</dd></dl><h3 id="example-indexes">Example indexes</h3>
<p>The <a href="#blog-built-in-template">built-in blog template</a> generates document and tag
indexes for documents in the <code>content/posts</code> directory. It does this because the
corresponding template directory (<code>template/posts</code>) contains <code>docs.html</code> and
<code>tags.html</code> template files. The index webpages are written to the
<code>build/indexes/posts</code> directory:</p>
<pre><code>├── build/                    # Site build directory
:   :
│   └── indexes/              # Site indexes
│       └── posts/            # Indexes for `content/posts`
│           docs-1.html       # Documents index page 1 (built with `docs.html` template)
│           docs-2.html       # Documents index page 2 (built with `docs.html` template)
│           └── tags/         # Tags indexes
│               tags.html     # Tags index (built with `tags.html` template)
│               lorem-1.html  # `lorem` tag index page 1 (built with `docs.html` template)
:                 :
├── content/                  # Site content directory
:   :
│   └── posts/                # Indexed documents
:
└── template/                 # Site template directory
    :
    └── posts/
        docs.html             # Documents index template
        tags.html             # Tags index template</code></pre>
<h2 id="build-paths">Build paths</h2>
<p>A document's <em>build path</em> is the file path of its generated web page.</p>
<ul><li>The <em>build path</em> will always be located in the site <a href="#sites">build
  directory</a>.</li><li>By default the <em>build path</em> mirrors the document's <a href="#sites">content directory
  path</a>.</li><li>The <a href="#permalink"><code>permalink</code></a> configuration variable can be used to customize
  the <em>build path</em>.</li><li>If a <a href="#slug"><code>slug</code></a> front matter value is specified it
   replaces the document file name (excluding file name extension).</li></ul><p>The following examples assume that the content document path is <code>/posts/foo.md</code>
and the document publication date is 11-Mar-2022:</p>
<pre><code>permalink             slug      Build path
________________________________________________________________
                                /posts/foo.html 
                      bar       /posts/bar.html 
/posts/%y/%m/%d/%f              /posts/2022/03/11/foo.html 
/posts/%y/%m/%d/%f    bar       /posts/2022/03/11/bar.html 
/posts/%y-%m-%d/%p/             /posts/2022-03-11/foo/index.html 
/posts/%y-%m-%d/%p/   bar       /posts/2022-03-11/bar/index.html 
/index.html                     /index.html
/index.html           bar       /index.html
________________________________________________________________</code></pre>
<h2 id="urls">URLs</h2>
<p>URLs are used to link webpages, they occur in documents and HTML templates.
URLs are either <em>external</em> (references to off-site resources) or <em>internal</em>
(references to resources within the site).</p>
<p>The different URL types are <em>absolute</em>, <em>absolute with current schema</em>, <em>root
relative</em> and <em>page relative</em>. Examples:</p>
<pre><code>http://yourdomain.com/images/example.png    # absolute
//yourdomain.com/images/example.png         # absolute with current schema
/images/example.png                         # root-relative
images/example.png                          # page-relative
</code></pre>
<p>Internal URLs should be <em>root-relative</em> or <em>page-relative</em>. Root-relative URLs
are recommended because they remain the same regardless of the file's location.
For this reason, <a href="#html-templates">HTML templates</a> should always employ
root-relative URLs. Root-relative URLs are also independent of the host domain
name.</p>
<h3 id="url-synthesis">URL synthesis</h3>
<p>Hindsite automatically prefixes all root-relative URLs with the
<a href="#urlprefix"><code>urlprefix</code></a> configuration value. This allows a site to be rooted
anywhere on the web server without having to hard-wire server paths into
document URLs.</p>
<p>Document URLs are synthesized by prefixing the webpage <a href="#build-paths">build path</a>
(relative to the <a href="#sites">build directory</a>) with the <code>urlprefix</code>. File
path separators are translated to slash characters.</p>
<p>For example, if the build directory is <code>C:\mysite\build</code> and the generated
webpage is <code>C:\mysite\build\posts\foo.html</code> then:</p>
<ul><li>If no <code>urlprefix</code> is specified the URL will be <code>/posts/foo.html</code>.</li><li>If the <code>urlprefix</code> is <code>/blog</code> then the URL will be <code>/blog/posts/foo.html</code></li><li>If the <code>urlprefix</code> is <code>https://example.com</code> then the URL will be <code>https://example.com/posts/foo.html</code></li></ul><p>If you are deploying to a web server subdirectory then you need to set the
<code>urlprefix</code> configuration variable to ensure that URLs are rooted correctly. For
example, if you are deploying to the server directory <code>http://example.com/blog</code>
you will need to set <code>urlprefix</code> to either <code>/blog</code> (to generate root-relative
URLs) or <code>http://example.com/blog</code> (to generate absolute URLs).</p>
<p>To bypass <code>urlprefix</code> injection use absolute or page-relative URLs.</p>
<p>It is recommended that document path names only contain lower case alphanumeric, hyphen and period
characters. This ensures consistent, readable URLs without ugly encodings.
This convention is not enforced but does generate <a href="#validity-checks">validity check</a> warnings.</p>
<h3 id="navigation-urls">Navigation URLs</h3>
<p>Hindsite synthesizes root-relative navigation URLs and assigns them to <a href="#html-templates">HTML
template</a> variables. For example:</p>
<ul><li>The <code>.next</code> <a href="#document-variables">document template variable</a> is used
  to link to the next document in document <code>layout.html</code> templates.</li><li>The <code>.page.next</code> <a href="#html-templates">HTML template</a> variable is used to link to
  the next page of documents in <code>docs.html</code> document index templates.</li></ul><h2 id="vocabulary">Vocabulary</h2>
<p>Links to explanatory documentation.</p>
<ul><li><a href="#sites">Build directory</a></li><li><a href="#build-paths">Build path</a></li><li><a href="#built-in-templates">Built-in site template</a></li><li><a href="#configuration-files">Configuration file</a></li><li><a href="#configuration-variables">Configuration variable</a></li><li><a href="#sites">Content directory</a></li><li><a href="#content-files">Content file</a></li><li><a href="#documents">Document file</a></li><li><a href="#indexes">Document index</a></li><li><a href="#document-variables">Document variable</a></li><li><a href="#front-matter-variables">Front matter variable</a></li><li><a href="#html-templates">HTML template</a></li><li><a href="#indexes">Index</a></li><li><a href="#init-command">Init directory</a></li><li><a href="#root-configuration">Root configuration</a></li><li><a href="#sites">Site directory</a></li><li><a href="#sites">Site</a></li><li><a href="#sites">Site template</a></li><li><a href="#static-files">Static file</a></li><li><a href="#document-tags">Tag</a></li><li><a href="#indexes">Tag index</a></li><li><a href="#sites">Template directory</a></li><li><a href="#templates">Template</a></li><li><a href="#text-templates">Text template</a></li></ul>

</div>
</div>
<script src="/hindsite/main.js"></script>

<script>

window.onload = function() {
  var headings = [].slice.call(document.body.querySelectorAll('#article > h1, #article > h2, #article > h3'));
  headings.forEach(function(heading) {
    setHeaderLink(heading);
    appendTocEntry(heading);
  });
  if (isSmallScreen()) {
    toggleToc();  
  }
}
</script>
</body>
</html>
